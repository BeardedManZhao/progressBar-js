class ProgressBar{constructor(e,showFun=undefined){this.proElement=e;this.fill=document.createElement('div');this.fill.className='progress-bar-fill';this.proElement.appendChild(this.fill);this.showFun=showFun===undefined?(p)=>"当前进度："+p:showFun}updateProgressColor(progress,color=undefined,maxColor='linear-gradient(to right, rgba(255, 255, 255, 0.5), #f00)'){if(progress>=90&&maxColor!==undefined){this.fill.style.background=maxColor}else if(color!==undefined){this.fill.style.background=color}}setProgress(progress,color=undefined,maxColor='linear-gradient(to right, rgba(255, 255, 255, 0.5), #f00)'){this.setProgressByValue(Math.max(progress,0),100,color,maxColor)}setProgressByValue(progressValue,maxValue,color=undefined,maxColor='linear-gradient(to right, rgba(255, 255, 255, 0.5), #f00)'){this.proElement.title=this.showFun(progressValue,maxValue);const p=Math.min(progressValue,maxValue)/maxValue*100;this.fill.style.width=p+'%';this.updateProgressColor(p,color,maxColor)}}